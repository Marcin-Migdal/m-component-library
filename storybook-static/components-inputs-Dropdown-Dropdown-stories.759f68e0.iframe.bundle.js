"use strict";(self.webpackChunk_marcin_migdal_m_test_library=self.webpackChunk_marcin_migdal_m_test_library||[]).push([[991],{"./src/components/inputs/Dropdown/Dropdown.stories.tsx":(L,l,o)=>{o.r(l),o.d(l,{__namedExportsOrder:()=>So,default:()=>Io,dropdown:()=>Co});var i=o("./src/components/global-types.ts"),g=o("./node_modules/@fortawesome/react-fontawesome/index.es.js"),T=o("./node_modules/classnames/index.js"),e=o.n(T),n=o("./node_modules/react/index.js"),A=o("./node_modules/react-dom/index.js"),ao=o("./node_modules/uuid/dist/esm-browser/v4.js"),K=o("./src/components/inputs/_inputsComponents/index.ts"),lo=o("./src/components/inputs/_inputsComponents/InputError/helpers/getInputsErrorStyle.ts"),io=o("./src/components/inputs/_inputsComponents/StandAloneTextfield/StandAloneTextfield.tsx"),po=o("./src/components/inputs/_inputUtils/getInputStyle.ts");const co=({option:t,valueKey:D,labelKey:O,id:p,className:c,handleDropdownChange:m})=>n.createElement("li",{id:p,key:t[D],onClick:h=>m(h,t),className:c},t[O]);var mo=o("./src/utils/index.ts"),uo=o("./src/utils/getPosition/getPosition-types.ts"),fo=o("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Z=o.n(fo),wo=o("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),k=o.n(wo),yo=o("./node_modules/style-loader/dist/runtime/insertBySelector.js"),q=o.n(yo),go=o("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),oo=o.n(go),vo=o("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),no=o.n(vo),Eo=o("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),to=o.n(Eo),_=o("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/components/inputs/Dropdown/DropdownOptionsComponent/DropdownOptionsComponent.scss"),v={};v.styleTagTransform=to(),v.setAttributes=oo(),v.insert=q().bind(null,"head"),v.domAPI=k(),v.insertStyleElement=no();var Fo=Z()(_.default,v);const No=_.default&&_.default.locals?_.default.locals:void 0,Do=({id:t,filterElement:D,noOptionsMessage:O,classNamesObj:p,options:c,valueKey:m,labelKey:h,value:u,Option:M,EmptyMessage:f,optionHeightFit:z,handleDropdownChange:b})=>{const I=(0,n.useRef)(null),[C,x]=(0,n.useState)({top:0,left:0,width:0,calculatedPosition:uo.CalculatedPosition.AUTO_BOTTOM,opacity:0,maxHeight:0});(0,n.useEffect)(()=>{const w=I.current,S=new ResizeObserver(()=>{if(!w||!D)return;const d=(0,mo.getPosition)(D,I.current,{consumerHasParentWidth:!0}),X=Array.from(w.children).slice(0,z).reduce((G,$)=>G+$.offsetHeight,0);x({...d,maxHeight:X,opacity:1})});return S.observe(document.body),()=>{S.disconnect()}},[]);const H={id:t,className:e()("m-dropdown-option empty-message",p?.emptyDropdownOption),noOptionsMessage:O};return n.createElement("ul",{id:t,ref:I,className:e()("m-dropdown-options","m-scroll slim-scroll",p?.dropdownOptions),style:C},c&&c.length>0?c.map(w=>{const S={className:e()("m-dropdown-option","truncate-text",p?.dropdownOption,{selected:w[m]===u?.[m]}),option:w,valueKey:m,labelKey:h,id:t,handleDropdownChange:b};return M(S)}):f(H))};var R=o("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/components/inputs/Dropdown/Dropdown.scss"),E={};E.styleTagTransform=to(),E.setAttributes=oo(),E.insert=q().bind(null,"head"),E.domAPI=k(),E.insertStyleElement=no();var Bo=Z()(R.default,E);const Uo=R.default&&R.default.locals?R.default.locals:void 0,Oo={Control:t=>n.createElement(io.StandAloneTextfield,t),ClearIcon:t=>n.createElement(g.FontAwesomeIcon,{...t,icon:"close"}),IndicatorIcon:t=>n.createElement(g.FontAwesomeIcon,{...t,icon:"angle-down"}),Options:t=>n.createElement(Do,t),Option:t=>n.createElement(co,t),EmptyMessage:t=>n.createElement("li",t,t.noOptionsMessage)};function ho(t){const{value:D=void 0,name:O=void 0,disabled:p=!1,onChange:c,onClear:m,onFocus:h,label:u,error:M,labelType:f=i.InputLabel.LEFT,placeholder:z,labelWidth:b=30,floatingInputWidth:I=100,options:C=[],labelKey:x="label",valueKey:H="value",size:w=i.ComponentSize.MEDIUM,disableDefaultMargin:S=!1,classNamesObj:d,prefix:V,components:eo,noOptionsMessage:X="No options",optionHeightFit:G=6,clearable:$=!1,readOnly:J=!1,filter:Q=!1}=t,W=(0,n.useRef)(null),[jo,so]=(0,n.useState)(void 0),[F,Y]=(0,n.useState)(""),[Po,To]=(0,n.useState)([]),[N,j]=(0,n.useState)(!1),[B]=(0,n.useState)((0,ao.default)()),U=D||jo,P={...Oo,...eo};(0,n.useEffect)(()=>{(()=>{if(!C||C.length===0)return;let r=[];F?r=C.filter(y=>{let a=y[x];return a=typeof a=="string"?a:a.toString(),a.includes(F)}):r=C,To(r)})()},[F]),(0,n.useEffect)(()=>{const s=y=>{const a=y.target;W.current&&(!W.current.contains(a)||typeof a?.className=="string"&&a?.className.includes("m-dropdown-container"))&&(!a.id||!a.id.endsWith(B))&&j(!1)},r=y=>{y.code==="Escape"&&j(!1)};return document.addEventListener("mousedown",s),document.addEventListener("keydown",r),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",r)}},[]);const Ao=s=>{Y(s.target.value)},Mo=(s,r)=>{if(Y(""),so(r),j(!1),c){const y={...s,target:{...s.target,value:r,name:O,type:"dropdown"}};c(y,r)}},bo=s=>{if(Y(""),so(void 0),j(!1),m){const r={...s,target:{...s.target,value:void 0,name:O,type:"dropdown"}};m(r,void 0)}},xo=s=>{J||(h&&h(s),j(!0))},ro=W.current?.querySelector(".m-dropdown-control"),Lo={disabled:p,id:B,readOnly:J||!Q,value:Q&&N?F:U?.[x].toString()||"",onChange:Ao,onFocus:xo,placeholder:f===i.InputLabel.FLOATING?void 0:z||(u?`${u}...`:""),prefix:V,className:e()("m-dropdown-control",d?.control,f,{"read-only":J,filtrable:Q}),style:{...(0,po.getInputStyle)(f,u,b,I)}},_o={className:e()("m-dropdown-icon","m-dropdown-clear-icon",d?.clearIcon),onClick:bo},Ro={className:e()("m-dropdown-icon","m-dropdown-indicator-icon",d?.dropdownIndicatorIcon),onClick:()=>j(!N)},Wo={filterElement:ro,id:B,options:Po,value:U,valueKey:H,labelKey:x,noOptionsMessage:X,optionHeightFit:G,handleDropdownChange:Mo,Option:P.Option,EmptyMessage:P.EmptyMessage,classNamesObj:{dropdownOptions:d?.dropdownOptions,dropdownOption:d?.dropdownOption,emptyDropdownOption:d?.emptyDropdownOption}};return n.createElement(K.InputContainer,{disabled:p,className:e()("m-dropdown-container",d?.container),size:w,error:M,disableDefaultMargin:S,ref:W},u&&n.createElement(K.InputsLabel,{label:u,labelType:f,className:e()("m-dropdown-label",d?.label),labelWidth:b,isFocused:N,isFilled:!!U,dataId:B,prefix:V}),P.Control(Lo),M?n.createElement(K.InputError,{style:(0,lo.getInputsErrorStyle)(f,b,I),className:e()("dropdown-error",d?.error),error:M}):P.IndicatorIcon(Ro),$&&U&&P.ClearIcon(_o),N&&ro&&(0,A.createPortal)(P.Options(Wo),document.body))}const Io={title:"Components/Inputs/Dropdown",component:ho,args:{options:[{label:"test 1",value:1},{label:"test 2",value:2},{label:"test 3",value:3}]}},Co={args:{label:"Name",labelType:i.InputLabel.FLOATING}},So=["dropdown"]},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/components/inputs/Dropdown/Dropdown.scss":(L,l,o)=>{o.r(l),o.d(l,{default:()=>A});var i=o("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),g=o.n(i),T=o("./node_modules/css-loader/dist/runtime/api.js"),e=o.n(T),n=e()(g());n.push([L.id,".common-wrapper-container .m-dropdown-container .m-dropdown-icon{color:var(--input-placeholder-color)}.common-wrapper-container .m-dropdown-container .m-dropdown-icon.m-dropdown-clear-icon:hover{color:var(--input-text-color)}.common-wrapper-container .m-dropdown-options{background-color:var(--input-background-color);color:var(--input-text-color)}.common-wrapper-container .m-dropdown-options .m-dropdown-option:not(.empty-message):hover,.common-wrapper-container .m-dropdown-options .m-dropdown-option:not(.empty-message):active{background-color:var(--input-hover-background-color)}.common-wrapper-container .m-dropdown-options .m-dropdown-option:not(.empty-message).selected{background-color:var(--input-hover-background-color)}.m-dropdown-container.error .m-dropdown-clear-icon{margin-left:-2.9rem}.m-dropdown-container:focus-within .m-dropdown-indicator-icon{transform:rotateX(180deg)}.m-dropdown-container:has(.m-dropdown-control.read-only):not(.dropdown-error) .m-dropdown-icon,.m-dropdown-container:has(.m-dropdown-control:disabled):not(.dropdown-error) .m-dropdown-icon{display:none}.m-dropdown-container .m-dropdown-icon{z-index:1;transition:var(--transition);cursor:pointer}.m-dropdown-container .m-dropdown-icon.m-dropdown-clear-icon{border-radius:100%;margin-left:-2.25rem;transition:0s !important}.m-dropdown-container .m-dropdown-icon.m-dropdown-indicator-icon{margin-left:-1.5rem}",""]);const A=n},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/components/inputs/Dropdown/DropdownOptionsComponent/DropdownOptionsComponent.scss":(L,l,o)=>{o.r(l),o.d(l,{default:()=>A});var i=o("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),g=o.n(i),T=o("./node_modules/css-loader/dist/runtime/api.js"),e=o.n(T),n=e()(g());n.push([L.id,".m-dropdown-options{position:absolute;padding-left:0px;border-radius:var(--border-radius) !important;margin:unset;list-style:none;z-index:5;overflow:auto}.m-dropdown-options .m-dropdown-option{padding:7px 10px;height:32px;transition:var(--fast-transition)}.m-dropdown-options .m-dropdown-option.empty-message{display:flex;justify-content:center;align-items:center;height:30px}.m-dropdown-options .m-dropdown-option:first-child{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius)}.m-dropdown-options .m-dropdown-option:last-child{border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius)}",""]);const A=n}}]);
