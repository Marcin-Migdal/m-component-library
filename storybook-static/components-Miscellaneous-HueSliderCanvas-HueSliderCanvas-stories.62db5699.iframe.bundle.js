(self.webpackChunk_marcin_migdal_m_test_library=self.webpackChunk_marcin_migdal_m_test_library||[]).push([[840],{"./src/components/Miscellaneous/HueSliderCanvas/HueSliderCanvas.stories.tsx":(y,f,e)=>{"use strict";e.r(f),e.d(f,{__namedExportsOrder:()=>h,default:()=>i,hueSlider:()=>M});var m=e("./src/components/Miscellaneous/HueSliderCanvas/HueSliderCanvas.tsx");const i={title:"Components/Miscellaneous",component:m.HueSliderCanvas},M={},h=["hueSlider"]},"./node_modules/classnames/index.js":(y,f)=>{var e,m;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(){"use strict";var g={}.hasOwnProperty;function i(){for(var l="",s=0;s<arguments.length;s++){var c=arguments[s];c&&(l=h(l,M(c)))}return l}function M(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return i.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var s="";for(var c in l)g.call(l,c)&&l[c]&&(s=h(s,c));return s}function h(l,s){return s?l?l+" "+s:l+s:l}y.exports?(i.default=i,y.exports=i):(e=[],m=function(){return i}.apply(f,e),m!==void 0&&(y.exports=m))})()},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/components/Miscellaneous/HueSliderCanvas/HueSliderCanvas.scss":(y,f,e)=>{"use strict";e.r(f),e.d(f,{default:()=>l});var m=e("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),g=e.n(m),i=e("./node_modules/css-loader/dist/runtime/api.js"),M=e.n(i),h=M()(g());h.push([y.id,".common-wrapper-container .hue-slider-canvas-container .hue-picker-pointer{border-color:var(--color-picker-pointer)}.common-wrapper-container .hue-slider-canvas-container .hue-picker-pointer.dragging{box-shadow:0 0 0 2px var(--color-picker-dragged-pointer)}.hue-slider-canvas-container{position:relative;height:fit-content;height:16px}.hue-slider-canvas-container canvas{border-radius:3px}.hue-slider-canvas-container .hue-picker-pointer{position:absolute;top:8px;width:.75rem;height:.75rem;border:2px solid;border-radius:50%;pointer-events:none;transform:translate(-50%, -5px)}",""]);const l=h},"./src/components/Miscellaneous/HueSliderCanvas/HueSliderCanvas.tsx":(y,f,e)=>{"use strict";e.r(f),e.d(f,{HueSliderCanvas:()=>O});var m=e("./node_modules/classnames/index.js"),g=e.n(m),i=e("./node_modules/react/index.js"),M=e("./src/hooks/index.ts"),h=e("./src/components/inputs/ColorPicker/helpers/index.ts"),l=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=e.n(l),c=e("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),p=e.n(c),T=e("./node_modules/style-loader/dist/runtime/insertBySelector.js"),t=e.n(T),n=e("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),r=e.n(n),a=e("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),o=e.n(a),d=e("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),S=e.n(d),C=e("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/components/Miscellaneous/HueSliderCanvas/HueSliderCanvas.scss"),u={};u.styleTagTransform=S(),u.setAttributes=r(),u.insert=t().bind(null,"head"),u.domAPI=p(),u.insertStyleElement=o();var P=s()(C.default,u);const W=C.default&&C.default.locals?C.default.locals:void 0,O=({hue:A,onChange:R,readOnly:H})=>{const x=(0,i.useRef)(null),[I,F]=(0,i.useState)(!1),[b,U]=(0,i.useState)(void 0),[G]=(0,M.useThrottling)(E=>{const v=x.current;if(!v)return;const D=v.getContext("2d");if(!D)return;const j=v.getBoundingClientRect(),B=E.clientX-j.left,K=Math.max(0,Math.min(B,v.width)),L=D.getImageData(K,v.height/2,1,1).data;U({x:K,y:0}),R((0,h.rgbToHsl)(L[0],L[1],L[2]).h)});(0,i.useEffect)(()=>{const E=x.current;if(!E)return;const v=E.getContext("2d"),D=E.width,j=E.height;if(v&&(v.rect(0,0,D,j),(0,h.fillSliderGradientBackground)(v,D,j),!b)){const B=(0,h.calculateIndicatorPosition)(v,(0,h.hslToRgb)(A,100,50),D,j);U(B)}},[]),(0,i.useEffect)(()=>{const E=D=>{I&&G(D)},v=()=>{F(!1)};return document.addEventListener("mousemove",E),document.addEventListener("mouseup",v),()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",v)}},[I,A]);const $=E=>{if(H){E.preventDefault();return}F(!0),G(E)};return i.createElement("div",{className:"hue-slider-canvas-container"},i.createElement("canvas",{ref:x,height:16,width:212,onMouseDown:$}),b&&i.createElement("div",{className:g()("hue-picker-pointer",{dragging:I}),style:{backgroundColor:`hsl(${A}, 100%, 50%)`,left:`${b.x}px`}}))}},"./src/components/inputs/ColorPicker/helpers/index.ts":(y,f,e)=>{"use strict";e.r(f),e.d(f,{calculateIndicatorPosition:()=>m,fillPickerGradientBackground:()=>i,fillSliderGradientBackground:()=>M,hexToRgb:()=>h,hslToHex:()=>s,hslToRgb:()=>g,rgbToHex:()=>l,rgbToHsl:()=>c,valueToRgb:()=>T});const m=(t,n,r,a)=>{const o=t.getImageData(0,0,r,a).data;let d=0,S=0,C=1/0;for(let u=0;u<o.length;u+=4){const P=o[u],W=o[u+1],O=o[u+2],A=u/4%r,R=Math.floor(u/4/r),H=Math.sqrt(Math.pow(P-n.r,2)+Math.pow(W-n.g,2)+Math.pow(O-n.b,2));H<C&&(C=H,d=A,S=R)}return{x:d,y:S}},g=(t,n=100,r=50)=>{n/=100,r/=100;const a=n*Math.min(r,1-r),o=P=>(P+t/30)%12,d=P=>r-a*Math.max(-1,Math.min(o(P)-3,Math.min(9-o(P),1))),S=Math.round(255*d(0)),C=Math.round(255*d(8)),u=Math.round(255*d(4));return{r:S,g:C,b:u}},i=(t,n,r,a)=>{const o=g(a);t.fillStyle=`rgba(${o.r}, ${o.g}, ${o.b}, 1)`,t.fillRect(0,0,n,r);const d=t.createLinearGradient(0,0,n,0);d.addColorStop(0,"rgba(255,255,255,1)"),d.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=d,t.fillRect(0,0,n,r);const S=t.createLinearGradient(0,0,0,r);S.addColorStop(0,"rgba(0,0,0,0)"),S.addColorStop(1,"rgba(0,0,0,1)"),t.fillStyle=S,t.fillRect(0,0,n,r)},M=(t,n,r)=>{const a=t.createLinearGradient(0,0,n,0),o=1/8;a.addColorStop(0,"red"),a.addColorStop(o,"magenta"),a.addColorStop(o*2,"blue"),a.addColorStop(o*3,"cyan"),a.addColorStop(o*4,"lime"),a.addColorStop(o*5,"yellow"),a.addColorStop(o*6,"orange"),a.addColorStop(1,"red"),t.fillStyle=a,t.fillRect(0,0,n,r)},h=t=>{if(t=t.replace(/^#/,""),!(t.length!==6||!/^[0-9A-Fa-f]{6}$/.test(t)))return{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}},l=(t,n,r)=>{const a=d=>Math.max(0,Math.min(255,d)),o=d=>a(d).toString(16).padStart(2,"0");return`#${o(t)}${o(n)}${o(r)}`},s=(t,n,r)=>{const{r:a,g:o,b:d}=g(t,n,r);return l(a,o,d)},c=(t,n,r)=>{t/=255,n/=255,r/=255;const a=Math.max(t,n,r),o=Math.min(t,n,r);let d=0,S=0;const C=(a+o)/2;if(a!==o){const u=a-o;switch(S=C>.5?u/(2-a-o):u/(a+o),a){case t:d=(n-r)/u+(n<r?6:0);break;case n:d=(r-t)/u+2;break;case r:d=(t-n)/u+4;break}d*=60}return{h:Math.round(d),s:Math.round(S*100),l:Math.round(C*100)}};var p=e("./src/components/inputs/ColorPicker/types.tsx");const T=t=>typeof t=="string"?h(t)||p.defaultColorPickerValue:"r"in t&&"g"in t&&"b"in t?t:g(t.h,t.s,t.l)},"./src/components/inputs/ColorPicker/types.tsx":(y,f,e)=>{"use strict";e.r(f),e.d(f,{ReturnedColor:()=>g,defaultColorPickerValue:()=>m});const m={r:255,g:0,b:0};var g=function(i){return i.RGB="rgb",i.HSL="hsl",i.HEX="hex",i}({})},"./src/hooks/index.ts":(y,f,e)=>{"use strict";e.r(f),e.d(f,{OpenStatus:()=>M,useDebounce:()=>g,useDebounceFunction:()=>i,useOpen:()=>h,useThrottling:()=>l});var m=e("./node_modules/react/index.js");function g(s,c){const[p,T]=(0,m.useState)(s);return(0,m.useEffect)(()=>{const t=setTimeout(()=>{T(s)},c);return()=>{clearTimeout(t)}},[s,c]),p}function i(s,c){const p=(0,m.useRef)(null);return[(0,m.useCallback)((...t)=>{p.current&&clearTimeout(p.current),s&&(p.current=setTimeout(()=>{s(...t)},c))},[s,c])]}var M=function(s){return s.CLOSED="closed",s.CLOSING="closing",s.MOUNTED="mounted",s.OPENED="opened",s}({});const h=({defaultOpenStatus:s="closed",delay:c=150,openDelay:p,closeDelay:T})=>{const[t,n]=(0,m.useState)(s),r=()=>{n("mounted"),setTimeout(()=>{n("opened")},p||c)},a=()=>{n("closing"),setTimeout(()=>{n("closed")},T||c)};return{openStatus:t,toggleOpenStatus:()=>{if(["mounted","opened"].includes(t)){a();return}r()},handleOpen:r,handleClose:a,handleSetOpenStatus:S=>{n(S)}}},l=(s,c=8)=>{const p=(0,m.useRef)(0);return[(...t)=>{const n=Date.now();n-p.current>=c&&(s(...t),p.current=n)}]}}}]);
