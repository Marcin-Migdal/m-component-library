/*! For license information please see components-Miscellaneous-HueSliderCanvas-HueSliderCanvas-stories.377ee32f.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_marcin_migdal_m_test_library=self.webpackChunk_marcin_migdal_m_test_library||[]).push([[840],{"./src/components/Miscellaneous/HueSliderCanvas/HueSliderCanvas.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__,hueSlider:()=>hueSlider});const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Miscellaneous",component:__webpack_require__("./src/components/Miscellaneous/HueSliderCanvas/HueSliderCanvas.tsx").Y},hueSlider={},__namedExportsOrder=["hueSlider"];hueSlider.parameters={...hueSlider.parameters,docs:{...hueSlider.parameters?.docs,source:{originalSource:"{}",...hueSlider.parameters?.docs?.source}}}},"./node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes="",i=0;i<arguments.length;i++){var arg=arguments[i];arg&&(classes=appendClass(classes,parseValue(arg)))}return classes}function parseValue(arg){if("string"==typeof arg||"number"==typeof arg)return arg;if("object"!=typeof arg)return"";if(Array.isArray(arg))return classNames.apply(null,arg);if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]"))return arg.toString();var classes="";for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&(classes=appendClass(classes,key));return classes}function appendClass(value,newClass){return newClass?value?value+" "+newClass:value+newClass:value}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/components/Miscellaneous/HueSliderCanvas/HueSliderCanvas.scss":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".common-wrapper-container .hue-slider-canvas-container .hue-picker-pointer{border-color:var(--color-picker-pointer)}.common-wrapper-container .hue-slider-canvas-container .hue-picker-pointer.dragging{box-shadow:0 0 0 2px var(--color-picker-dragged-pointer)}.hue-slider-canvas-container{position:relative;height:fit-content;height:16px}.hue-slider-canvas-container canvas{border-radius:3px}.hue-slider-canvas-container .hue-picker-pointer{position:absolute;top:8px;width:.75rem;height:.75rem;border:2px solid;border-radius:50%;pointer-events:none;transform:translate(-50%, -5px)}","",{version:3,sources:["webpack://./src/components/Miscellaneous/HueSliderCanvas/HueSliderCanvas.theme.scss","webpack://./src/components/Miscellaneous/HueSliderCanvas/HueSliderCanvas.scss"],names:[],mappings:"AAEI,2EACE,wCAAA,CAEA,oFACE,wDAAA,CCJR,6BACE,iBAAA,CACA,kBAAA,CACA,WAAA,CAEA,oCACE,iBAAA,CAGF,iDACE,iBAAA,CACA,OAAA,CAEA,YAAA,CACA,aAAA,CACA,gBAAA,CAEA,iBAAA,CACA,mBAAA,CAEA,+BAAA",sourcesContent:[".common-wrapper-container {\r\n  .hue-slider-canvas-container {\r\n    .hue-picker-pointer {\r\n      border-color: var(--color-picker-pointer);\r\n\r\n      &.dragging {\r\n        box-shadow: 0 0 0 2px var(--color-picker-dragged-pointer);\r\n      }\r\n    }\r\n  }\r\n}\r\n",'@use "./HueSliderCanvas.theme.scss";\r\n\r\n.hue-slider-canvas-container {\r\n  position: relative;\r\n  height: fit-content;\r\n  height: 16px;\r\n\r\n  canvas {\r\n    border-radius: 3px;\r\n  }\r\n\r\n  .hue-picker-pointer {\r\n    position: absolute;\r\n    top: 8px;\r\n\r\n    width: 0.75rem;\r\n    height: 0.75rem;\r\n    border: 2px solid;\r\n\r\n    border-radius: 50%;\r\n    pointer-events: none;\r\n\r\n    transform: translate(-50%, -5px);\r\n  }\r\n}\r\n'],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./src/components/Miscellaneous/HueSliderCanvas/HueSliderCanvas.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>HueSliderCanvas_HueSliderCanvas_HueSliderCanvas});var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react=__webpack_require__("./node_modules/react/index.js"),hooks=__webpack_require__("./src/hooks/index.ts"),helpers=__webpack_require__("./src/components/inputs/ColorPicker/helpers/index.ts"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),HueSliderCanvas=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/components/Miscellaneous/HueSliderCanvas/HueSliderCanvas.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(HueSliderCanvas.A,options);HueSliderCanvas.A&&HueSliderCanvas.A.locals&&HueSliderCanvas.A.locals;const HueSliderCanvas_HueSliderCanvas_HueSliderCanvas=({hue,onChange,readOnly})=>{const canvasRef=(0,react.useRef)(null),[isDragging,setIsDragging]=(0,react.useState)(!1),[indicatorPosition,setIndicatorPosition]=(0,react.useState)(void 0),[throttledChangeColor]=(0,hooks.bu)((e=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext("2d");if(!ctx)return;const rect=canvas.getBoundingClientRect(),x=e.clientX-rect.left,clampedX=Math.max(0,Math.min(x,canvas.width)),imageData=ctx.getImageData(clampedX,canvas.height/2,1,1).data;setIndicatorPosition({x:clampedX,y:0}),onChange((0,helpers.K6)(imageData[0],imageData[1],imageData[2]).h)}));(0,react.useEffect)((()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext("2d"),width=canvas.width,height=canvas.height;if(ctx&&(ctx.rect(0,0,width,height),(0,helpers.DJ)(ctx,width,height),!indicatorPosition)){const initialPosition=(0,helpers.hH)(ctx,(0,helpers.YL)(hue,100,50),width,height);setIndicatorPosition(initialPosition)}}),[]),(0,react.useEffect)((()=>{const handleMouseMove=e=>{isDragging&&throttledChangeColor(e)},handleMouseUp=()=>{setIsDragging(!1)};return document.addEventListener("mousemove",handleMouseMove),document.addEventListener("mouseup",handleMouseUp),()=>{document.removeEventListener("mousemove",handleMouseMove),document.removeEventListener("mouseup",handleMouseUp)}}),[isDragging,hue]);return react.createElement("div",{className:"hue-slider-canvas-container"},react.createElement("canvas",{ref:canvasRef,height:16,width:212,onMouseDown:e=>{readOnly?e.preventDefault():(setIsDragging(!0),throttledChangeColor(e))}}),indicatorPosition&&react.createElement("div",{className:classnames_default()("hue-picker-pointer",{dragging:isDragging}),style:{backgroundColor:`hsl(${hue}, 100%, 50%)`,left:`${indicatorPosition.x}px`}}))};HueSliderCanvas_HueSliderCanvas_HueSliderCanvas.__docgenInfo={description:"",methods:[],displayName:"HueSliderCanvas",props:{hue:{required:!0,tsType:{name:"number"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(hue: number) => void",signature:{arguments:[{type:{name:"number"},name:"hue"}],return:{name:"void"}}},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""}}}},"./src/components/inputs/ColorPicker/helpers/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{hH:()=>calculateIndicatorPosition,U_:()=>fillPickerGradientBackground,DJ:()=>fillSliderGradientBackground,YL:()=>hslToRgb,Ob:()=>rgbToHex,K6:()=>rgbToHsl,oo:()=>valueToRgb});const calculateIndicatorPosition=(ctx,color,width,height)=>{const imageData=ctx.getImageData(0,0,width,height).data;let closestX=0,closestY=0,minDistance=1/0;for(let i=0;i<imageData.length;i+=4){const r=imageData[i],g=imageData[i+1],b=imageData[i+2],x=i/4%width,y=Math.floor(i/4/width),distance=Math.sqrt(Math.pow(r-color.r,2)+Math.pow(g-color.g,2)+Math.pow(b-color.b,2));distance<minDistance&&(minDistance=distance,closestX=x,closestY=y)}return{x:closestX,y:closestY}},hslToRgb=(h,s=100,l=50)=>{l/=100;const a=(s/=100)*Math.min(l,1-l),k=n=>(n+h/30)%12,f=n=>l-a*Math.max(-1,Math.min(k(n)-3,Math.min(9-k(n),1)));return{r:Math.round(255*f(0)),g:Math.round(255*f(8)),b:Math.round(255*f(4))}},fillPickerGradientBackground=(ctx,width,height,hue)=>{const rgb=hslToRgb(hue);ctx.fillStyle=`rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 1)`,ctx.fillRect(0,0,width,height);const grdWhite=ctx.createLinearGradient(0,0,width,0);grdWhite.addColorStop(0,"rgba(255,255,255,1)"),grdWhite.addColorStop(1,"rgba(255,255,255,0)"),ctx.fillStyle=grdWhite,ctx.fillRect(0,0,width,height);const grdBlack=ctx.createLinearGradient(0,0,0,height);grdBlack.addColorStop(0,"rgba(0,0,0,0)"),grdBlack.addColorStop(1,"rgba(0,0,0,1)"),ctx.fillStyle=grdBlack,ctx.fillRect(0,0,width,height)},fillSliderGradientBackground=(ctx,width,height)=>{const grdWhite=ctx.createLinearGradient(0,0,width,0);grdWhite.addColorStop(0,"red"),grdWhite.addColorStop(.125,"magenta"),grdWhite.addColorStop(.25,"blue"),grdWhite.addColorStop(.375,"cyan"),grdWhite.addColorStop(.5,"lime"),grdWhite.addColorStop(.625,"yellow"),grdWhite.addColorStop(.75,"orange"),grdWhite.addColorStop(1,"red"),ctx.fillStyle=grdWhite,ctx.fillRect(0,0,width,height)},rgbToHex=(r,g,b)=>{const toHex=value=>(value=>Math.max(0,Math.min(255,value)))(value).toString(16).padStart(2,"0");return`#${toHex(r)}${toHex(g)}${toHex(b)}`},rgbToHsl=(r,g,b)=>{r/=255,g/=255,b/=255;const max=Math.max(r,g,b),min=Math.min(r,g,b);let h=0,s=0;const l=(max+min)/2;if(max!==min){const d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h*=60}return{h:Math.round(h),s:Math.round(100*s),l:Math.round(100*l)}};var types=__webpack_require__("./src/components/inputs/ColorPicker/types.tsx");const valueToRgb=value=>"string"==typeof value?(hex=>{if(6===(hex=hex.replace(/^#/,"")).length&&/^[0-9A-Fa-f]{6}$/.test(hex))return{r:parseInt(hex.substring(0,2),16),g:parseInt(hex.substring(2,4),16),b:parseInt(hex.substring(4,6),16)}})(value)||types.K:"r"in value&&"g"in value&&"b"in value?value:hslToRgb(value.h,value.s,value.l)},"./src/components/inputs/ColorPicker/types.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>defaultColorPickerValue,N:()=>ReturnedColor});const defaultColorPickerValue={r:255,g:0,b:0};var ReturnedColor=function(ReturnedColor){return ReturnedColor.RGB="rgb",ReturnedColor.HSL="hsl",ReturnedColor.HEX="hex",ReturnedColor}({})},"./src/hooks/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>OpenStatus,pz:()=>useDebounceFunction,iM:()=>useOpen,bu:()=>useThrottling});var react=__webpack_require__("./node_modules/react/index.js");function useDebounceFunction(callback,delay){const timeoutRef=(0,react.useRef)(null);return[(0,react.useCallback)(((...args)=>{timeoutRef.current&&clearTimeout(timeoutRef.current),callback&&(timeoutRef.current=setTimeout((()=>{callback(...args)}),delay))}),[callback,delay])]}var OpenStatus=function(OpenStatus){return OpenStatus.CLOSED="closed",OpenStatus.CLOSING="closing",OpenStatus.MOUNTED="mounted",OpenStatus.OPENED="opened",OpenStatus}({});const useOpen=({defaultOpenStatus="closed",delay=150,openDelay,closeDelay})=>{const[openStatus,setOpenStatus]=(0,react.useState)(defaultOpenStatus),handleOpen=()=>{setOpenStatus("mounted"),setTimeout((()=>{setOpenStatus("opened")}),openDelay||delay)},handleClose=()=>{setOpenStatus("closing"),setTimeout((()=>{setOpenStatus("closed")}),closeDelay||delay)};return{openStatus,toggleOpenStatus:()=>{["mounted","opened"].includes(openStatus)?handleClose():handleOpen()},handleOpen,handleClose,handleSetOpenStatus:newOpenStatus=>{setOpenStatus(newOpenStatus)}}},useThrottling=(fn,limit=8)=>{const lastUpdateTime=(0,react.useRef)(0);return[(...args)=>{const now=Date.now();now-lastUpdateTime.current>=limit&&(fn(...args),lastUpdateTime.current=now)}]}}}]);